# mqtt
项目测试

mqtt协议是一种物联网的传输协议，基于消息的推送解决方案有很多种，包括轮询，长连接，sms，xmpp协议，第三方平台。
此处，以mqtt协议为主，介绍消息推送。

消息传输始终围绕着服务器，客户端，mqtt协议的详细介绍可以查看官网，也可以查看https://github.com/mcxiaoke/mqtt/blob/master/mqtt/01-Introduction.md
消息传输依赖Qos的三种状态
Qos=0 <=1,消息传输至多一次
Qos=1 >=1,消息传输至少一次
Qos=2  =1，消息传输一次

当Qos为0时，是最基本的推送形式，它最大的特点就是无保障性的，因为当你将数据包发送给服务器时，服务器不会有任何的回应，故不知成功与否
当Qos为1时，则是有保障性的传输，当发送推送数据给服务器时，其会返回一个PUBACK的确认包给发送者，用于确定成功与否，当把Retain值设为1时，会保存这个状态，对于所有后来上线的都会直接推送最后一次推的内容。所以说至少会推送成功一次。
当Qos为2时，因为是我们最常用的了，就要通过协议的机制既要保证推送的成功性，也要保证推送的准确性。

实现mqtt协议的三种api包括callback（回调），以及基于回调式封装的Blocking（阻塞式），Future模式.
阻塞式，顾名思义，原理是线程阻塞，可以绝对保证消息的送达，但是消息的传输速率没办法保证。</br>
Future模式，可以保证消息的快速送达。
